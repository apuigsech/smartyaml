# Expected result showing nested template loading
# Note: __version metadata is stripped by default
user_service:
  application:
    type: "microservice"
    runtime: "python"
  container:
    image: "python:3.11-slim"
    port: 8080
  resources:
    cpu: "500m"
    memory: "512Mi"
  health_checks:
    liveness: "/health/live"
    readiness: "/health/ready"
  # This comes from the nested !template ['infrastructure.database'] call
  infrastructure:
    database:
      engine: "postgresql"
      version: "15"
      port: 5432
    connection:
      max_connections: 100
      timeout: 30
    backup:
      enabled: true
      retention_days: 30
    monitoring:
      metrics: true
      slow_query_log: true

user_service_config:
  name: "user-management-service"
  version: "2.1.0"